!function(t){t(document).ready(function(){var a=t(".instantSearchResourceElement");if(0!==a.length){(t("#instant-search-categories").length>0||t("#instant-search-manufacturers").length>0||t("#instant-search-vendors").length>0)&&(t(".search-box-text").addClass("narrow"),t(".store-search-box").addClass("search-option-enabled"));var e=parseInt(a.attr("data-numberOfVisibleProducts")),n=t(".instantSearchResourceElement").attr("data-noResultsResourceText");t("#small-searchterms").kendoAutoComplete({highlightFirst:"true"===a.attr("data-highlightFirstFoundElement"),minLength:parseInt(a.attr("data-minKeywordLength"))||0,enforceMinLength:!0,dataTextField:"ProductName",filter:"contains",noDataTemplate:n,popup:{appendTo:t("#small-search-box-form")},template:kendo.template(t("#instantSearchItemTemplate").html()),height:"auto",dataSource:new kendo.data.DataSource({serverFiltering:!0,schema:{data:"Products"},requestStart:function(){t("#small-searchterms").addClass("instant-search-busy")},change:function(){t("#small-searchterms").removeClass("instant-search-busy")},transport:{read:{url:a.attr("data-instantSearchUrl"),complete:function(a){a.success(function(a){var e=t("#instantSearchShowAll");e.length>0&&e.remove(),t("#small-searchterms-list").append(a.ShowAllButtonHtml),t("#instantSearchShowAll").on("click",function(a){a.preventDefault(),t(".search-box-button").click()})})}},parameterMap:function(){return{q:t("#small-searchterms").val(),categoryId:t("#instant-search-categories").val(),manufacturerId:t("#instant-search-manufacturers").val(),vendorId:t("#instant-search-vendors").val()}}}}),change:function(){var a=t(".k-list").find(".k-selected").find(".instant-search-item").attr("data-url");void 0===a||setLocation(a)},dataBound:function(a){t("#small-searchterms").data("kendoAutoComplete").list.closest(".k-animation-container").addClass("instantSearch"),(t("#instant-search-categories").length>0||t("#instant-search-manufacturers").length>0||t("#instant-search-vendors").length>0)&&t(".k-animation-container").addClass("resize"),function a(){var n=t("#small-searchterms_listbox").children().slice(0,e),r=0;if(n.length===e)for(var s=0;s<n.length;s++)r+=t(n[s]).outerHeight();r>0&&t("#small-searchterms-list").css("height",r)}()}}),"false"===a.attr("data-highlightFirstFoundElement")&&t("#small-search-box-form").on("keydown",function(a){13===a.keyCode&&t(this).submit()}),t("#small-search-box-form").submit(function(e){var n=t("#instant-search-categories").val()||0,r=t("#instant-search-manufacturers").val()||0,s=t("#instant-search-vendors").val()||0,i=t("#small-searchterms").val();if(i){var c=a.attr("data-searchInProductDescriptions"),l=a.attr("data-searchPageUrl"),o=encodeURIComponent(i),h=a.attr("data-defaultProductSortOption");window.location.href=l+"?advs="+(n>0||r>0||s>0||c)+"&cid="+n+"&mid="+r+"&vid="+s+"&q="+o+"&sid="+c+"&isc=true&orderBy="+h}e.preventDefault()})}})}(jQuery);